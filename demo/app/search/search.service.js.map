{"version":3,"file":"search.service.js","sourceRoot":"","sources":["search.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;YAMA;gBACE,uBAAoB,KAAW;oBAAX,UAAK,GAAL,KAAK,CAAM;gBAAI,CAAC;gBAEpC,8CAAsB,GAAtB,UAAuB,IAAI,EAAC,EAAE,EAAC,UAAU,EAAC,QAAQ,EAAC,KAAK,EAAC,QAAQ,EAAC,OAAO;oBAEtE,IAAI,aAAa,GAAG;wBACrB,SAAS,EAAE;4BACZ,OAAO,EAAE;gCACP;oCACD,QAAQ,EAAE,IAAI;oCACd,aAAa,EAAE,EAAE;oCACjB,MAAM,EAAE,UAAU;iCAChB;6BACF;4BACD,YAAY,EAAE;gCACZ,YAAY,EAAE,KAAK;gCACnB,kBAAkB,EAAE,CAAC;gCACrB,mBAAmB,EAAE,OAAO;gCAC5B,YAAY,EAAE,QAAQ;gCACtB,aAAa,EAAE,CAAC;6BACjB;4BACD,WAAW,EAAE,EAAE;4BACd,UAAU,EAAE,QAAQ;4BACrB,YAAY,EAAE,KAAK;yBACjB;qBACH,CAAC;oBAIF,IAAI,OAAO,GAAG,IAAI,cAAO,EAAE,CAAC;oBAC5B,OAAO,CAAC,MAAM,CAAC,cAAc,EAAE,kBAAkB,CAAC,CAAC;oBAChD,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;oBAE3B,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,eAAe,EAAC,EAAC,OAAO,EAAE,OAAO,EAAC,CAAC;yBAEzD,GAAG,CAAC,UAAC,QAAkB,IAAK,OAAA,QAAQ,CAAC,IAAI,EAAE,EAAf,CAAe,CAAC;yBACzC,EAAE,CAAC,UAAA,IAAI,IAA2B,CAAC,CAAC;yBACpC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBAC7B,CAAC;gBAEO,mCAAW,GAAnB,UAAoB,KAAe;oBACjC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;oBACrB,MAAM,CAAC,eAAU,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,KAAK,IAAI,cAAc,CAAC,CAAC;gBAChE,CAAC;gBA5CH;oBAAC,iBAAU,EAAE;;iCAAA;gBA6Cb,oBAAC;YAAD,CAAC,AA5CD,IA4CC;YA5CD,yCA4CC,CAAA","sourcesContent":["import { Injectable } from 'angular2/core';\r\nimport { HTTP_PROVIDERS, Http, Response,Headers } from 'angular2/http';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport { CONFIG } from '../config';\r\n\r\n@Injectable()\r\nexport class SearchService {\r\n  constructor(private _http: Http) { }\r\n\r\n  getFlightSearchResults(from,to,departDate,maxPrice,adult,children,infants) {\r\n   \r\n    \tlet flightRequest = {\r\n\t\t  \"request\": {\r\n\t\t\t\"slice\": [\r\n\t\t\t  {\r\n\t\t\t\t\"origin\": from,\r\n\t\t\t\t\"destination\": to,\r\n\t\t\t\t\"date\": departDate\r\n\t\t\t  }\r\n\t\t\t],\r\n\t\t\t\"passengers\": {\r\n\t\t\t  \"adultCount\": adult,\r\n\t\t\t  \"infantInLapCount\": 0,\r\n\t\t\t  \"infantInSeatCount\": infants,\r\n\t\t\t  \"childCount\": children,\r\n\t\t\t  \"seniorCount\": 0\r\n\t\t\t},\r\n\t\t\t\"solutions\": 20,\r\n\t\t\t \"maxPrice\": maxPrice,\r\n\t\t\t\"refundable\": false\r\n\t\t  }\r\n\t};\r\n\t\r\n\t\r\n\r\n\tlet headers = new Headers();\r\n\theaders.append('content-type', 'application/json');\r\n    console.log(flightRequest);\r\n\r\n    return this._http.get('api/data.json',{headers: headers})\r\n    //return this._http.post(CONFIG.qpxSearchURL+CONFIG.qpxapikey,JSON.stringify(flightRequest),{headers: headers})\r\n\t  .map((response: Response) => response.json())\r\n      .do(data => {/* console.log(data)*/})\r\n      .catch(this.handleError);\r\n  }\r\n\r\n  private handleError(error: Response) {\r\n    console.error(error);\r\n    return Observable.throw(error.json().error || 'Server error');\r\n  }\r\n}\r\n"]}